# Web3 Crowdfunding Platform

A decentralized crowdfunding platform built on Ethereum blockchain using Solidity smart contracts and Foundry framework.

## Overview

This project implements a Web3 crowdfunding platform where users can create campaigns to raise funds for their projects and contribute to existing campaigns using USDC tokens. All transactions are handled transparently on the blockchain, ensuring trust and immutability.

## Tech Stack

- **Smart Contracts**: Solidity + Foundry framework
- **Backend**: Go with Gin HTTP framework
- **Frontend**: React + TypeScript + Viem
- **Database**: PostgreSQL
- **Local Blockchain**: Anvil (part of Foundry)

## Quick Setup

### Prerequisites

- [Foundry](https://book.getfoundry.sh/getting-started/installation)
- [Go](https://golang.org/doc/install) (1.21+)
- [Node.js](https://nodejs.org/) (18+)
- [Docker](https://docs.docker.com/get-docker/) (for PostgreSQL)

### 1. Setup Local Blockchain

```bash
# Start Anvil local blockchain
anvil
```

Keep this terminal running. Anvil will provide test accounts with ETH.

### 2. Deploy Smart Contracts

```bash
cd contracts

# Install dependencies
forge install

# Deploy MockUSDC token first
forge script script/MockUSDC.s.sol \
  --rpc-url http://127.0.0.1:8545 \
  --broadcast \
  --private-key <private key generated by anvil>

# Deploy CrowdFunding contract (uses USDC_ADDRESS from .env)
forge script script/CrowdFunding.s.sol \
  --rpc-url http://127.0.0.1:8545 \
  --broadcast \
  --private-key <private key generated by anvil>

# Copy ABIs to backend and frontend
cat out/CrowdFunding.sol/CrowdFunding.json | jq '.abi' > ../backend/contracts/crowdfunding.abi
cat out/MockUSDC.sol/MockUSDC.json | jq '.abi' > ../frontend/src/MockUSDC.abi.json
```

### 3. Setup Database

```bash
# Build and run PostgreSQL container
docker build -t crowdfundingdb backend/
docker run -d --name crowdfundingdb -p 5432:5432 crowdfundingdb
```

### 4. Run Backend

```bash
cd backend
go run cmd/main.go
```

Backend will run on `http://localhost:8080`

### 5. Run Frontend

```bash
cd frontend
npm install
npm run dev
```

Frontend will run on `http://localhost:5173`

### 6. Setup MetaMask

1. Install MetaMask browser extension
2. Add Anvil network:
   - Network Name: `Anvil Local`
   - RPC URL: `http://127.0.0.1:8545`
   - Chain ID: `31337`
   - Currency: `ETH`
3. Import test account using Anvil private key:
   ```
   <private key generated by anvil>
   ```

## Usage

1. **Connect Wallet**: Click "Connect MetaMask" in the frontend
2. **View Campaigns**: Browse existing crowdfunding campaigns
3. **Create Campaign**: Click "Create Campaign" to start a new fundraiser
4. **Donate**: 
   - Click "Donate" on any campaign
   - Approve USDC spending (first transaction)
   - Send donation (second transaction)

## Project Structure

```
├── contracts/         # Solidity smart contracts
├── backend/           # Go API server
├── frontend/          # React application
└── README.md
```

## Key Features

- ✅ Create crowdfunding campaigns with USDC targets
- ✅ Donate to campaigns using USDC tokens
- ✅ Automatic ERC-20 approval flow
- ✅ Campaign progress tracking
- ✅ Withdraw funds when goals are met
- ✅ Refund system for failed campaigns